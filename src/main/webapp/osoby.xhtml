<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:map="http://java.sun.com/jsf/composite/components/map"
  xmlns:p="http://primefaces.prime.com.tr/ui"  
  template="/templates/default.xhtml">
  
  <ui:define name="content">
  
  <p>Osoby</p>

  <h:form>
      <p:dataTable var="item" value="#{osobyBean.osoby}" selection="#{osobyBean.wybranaOsoba}" selectionMode="single">
          <p:column>
              <f:facet name="header">
                      Imie
              </f:facet>
              <h:outputText value="#{item.imie}" />
          </p:column>

          <p:column>
              <f:facet name="header">
                  Pesel
              </f:facet>
              <h:outputText value="#{item.pesel}" />
          </p:column>

          <p:column>
              <f:facet name="header">
                      Rok urodzenia
              </f:facet>
              <h:outputText value="#{item.rokUr}" />
          </p:column>
          
          <p:column> 
              <f:facet name="header">
                Opcje
              </f:facet>
              <h:commandButton actionListener="#{osobyBean.usunWybranaOsobe}" value="Usuń" >
                <f:setPropertyActionListener target="#{osobyBean.wybranaOsoba}" value="#{item}"/>
                <p:effect type="explode" event="click" />
              </h:commandButton>
          </p:column>
                                               
      </p:dataTable>              
      
      <h:commandButton actionListener="osoby" value="Pokaż" update="display" />
      
      <p:commandButton value="Renderuj imie!" update="nameGfx" ></p:commandButton>
      
      <h:panelGrid id="nameGfx" columns="2" cellpadding='4'>                                                
          <p:graphicText value="#{osobyBean.wybranaOsoba.imie}" fontName="#{osobyBean.randomFont}" fontSize="30" /> 
      </h:panelGrid>
      
      <h:panelGrid id="display" columns="2" cellpadding="4">
        <h:outputText value="Imię:"/>
        <h:outputText value="#{osobyBean.wybranaOsoba.imie}"/>
        
        <h:outputText value="Rok urodzenia:"/>
        <h:outputText value="#{osobyBean.wybranaOsoba.rokUr}"/>
        
        <h:outputText value="Pesel:"/>
        <h:outputText value="#{osobyBean.wybranaOsoba.pesel}"/>
      </h:panelGrid>
      
      <h:commandLink action="dodajOsobe">dodaj nową osobę</h:commandLink>
  </h:form>
  </ui:define>
</ui:composition>
